(self.webpackChunk=self.webpackChunk||[]).push([[929],{3933:t=>{var e=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,s){var n,a,i,o,c;for(i in s)if(n=t[i],a=s[i],n&&e.test(i))if("class"===i&&("string"==typeof n&&(c=n,t[i]=n={},n[c]=!0),"string"==typeof a&&(c=a,s[i]=a={},a[c]=!0)),"on"===i||"nativeOn"===i||"hook"===i)for(o in a)n[o]=r(n[o],a[o]);else if(Array.isArray(n))t[i]=n.concat(a);else if(Array.isArray(a))t[i]=[n].concat(a);else for(o in a)n[o]=a[o];else t[i]=s[i];return t}),{})}},4853:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".fade-enter-active[data-v-628cff14]{transition:all .3s ease-out}.fade-leave-active[data-v-628cff14]{transition:all .8s cubic-bezier(1,.5,.8,1)}.fade-enter[data-v-628cff14],.fade-leave[data-v-628cff14]{opacity:0;transform:translateY(-20px)}",""]);const a=n},6209:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".fade-enter-active[data-v-ad167a58]{transition:all .3s ease-out}.fade-leave-active[data-v-ad167a58]{transition:all .8s cubic-bezier(1,.5,.8,1)}.fade-enter[data-v-ad167a58],.fade-leave[data-v-ad167a58]{opacity:0;transform:translateX(20px)}",""]);const a=n},3673:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".notification[data-v-766371b0]{background-clip:content-box,border-box;background-image:linear-gradient(#fff,#fff),linear-gradient(90deg,#29b9f0,#ee5007);background-origin:border-box;border:2px solid transparent;border-radius:10px}.slide-enter-active[data-v-766371b0],.slide-leave-active[data-v-766371b0]{transition:all .3s ease-out}.slide-enter-to[data-v-766371b0],.slide-leave[data-v-766371b0]{opacity:1;transform:translateX(0)}.slide-enter[data-v-766371b0],.slide-leave-to[data-v-766371b0]{opacity:0;transform:translateX(-100px)}",""]);const a=n},3616:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".cancel[data-v-f32abc3a]{background:#fc4444}.accept[data-v-f32abc3a]{background:#60d66a}",""]);const a=n},5964:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".members[data-v-81715edc]:first-child{margin-right:-20px}",""]);const a=n},8033:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var s=r(3645),n=r.n(s)()((function(t){return t[1]}));n.push([t.id,".dashboard[data-v-a7968b3c]{display:grid;grid-template-columns:1fr 2fr 1fr}",""]);const a=n},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,s){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(s)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(n[i]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);s&&n[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),e.push(c))}},e}},3379:(t,e,r)=>{"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},a=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),i=[];function o(t){for(var e=-1,r=0;r<i.length;r++)if(i[r].identifier===t){e=r;break}return e}function c(t,e){for(var r={},s=[],n=0;n<t.length;n++){var a=t[n],c=e.base?a[0]+e.base:a[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var d=o(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:m(p,e),references:1}),s.push(u)}return s}function l(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var n=r.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,r,s){var n=r?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=d(e,n);else{var a=document.createTextNode(n),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function h(t,e,r){var s=r.css,n=r.media,a=r.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var f=null,v=0;function m(t,e){var r,s,n;if(e.singleton){var a=v++;r=f||(f=l(e)),s=p.bind(null,r,a,!1),n=p.bind(null,r,a,!0)}else r=l(e),s=h.bind(null,r,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var r=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<r.length;s++){var n=o(r[s]);i[n].references--}for(var a=c(t,e),l=0;l<r.length;l++){var u=o(r[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}r=a}}}},1932:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Qt});var s=r(826);const n={name:"LightNotification",data:function(){return{isVisible:!1,data:void 0}},methods:{timer:function(){var t=this;setTimeout((function(){t.isVisible=!1}),6e3)}},mounted:function(){var t=this;s.U.$on("light-notification:open",(function(e){t.data=e,t.isVisible=!t.isVisible,t.timer()}))}};var a=r(3379),i=r.n(a),o=r(3673),c={insert:"head",singleton:!1};i()(o.Z,c);o.Z.locals;var l=r(1900);const u=(0,l.Z)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"slide",appear:""}},[t.isVisible?r("div",{staticClass:"notification bottom-[40px] right-[35px] border-2 border-theme-second rounded-lg  bg-light absolute"},[r("div",{staticClass:"max-w-[250px] min-h-[85px] flex justify-center items-center text-center p-2 flex-col"},[r("div",{staticClass:"w-full font-bold border-b border-second-text"},[t._v("\n                "+t._s(t.data.title)+"\n            ")]),t._v(" "),r("div",{staticClass:"mt-2"},[t._v("\n                "+t._s(t.data.description)+"\n            ")])])]):t._e()])}),[],!1,null,"766371b0",null).exports;var d=r(629),p=r(3933),h=r.n(p),f={name:"ArrowDownIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-arrow-down"},e.data]),[t("line",{attrs:{x1:"12",y1:"5",x2:"12",y2:"19"}}),t("polyline",{attrs:{points:"19 12 12 19 5 12"}})])}},v={name:"BellIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-bell"},e.data]),[t("path",{attrs:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}}),t("path",{attrs:{d:"M13.73 21a2 2 0 0 1-3.46 0"}})])}},m={name:"CheckIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-check"},e.data]),[t("polyline",{attrs:{points:"20 6 9 17 4 12"}})])}},g={name:"LoaderIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-loader"},e.data]),[t("line",{attrs:{x1:"12",y1:"2",x2:"12",y2:"6"}}),t("line",{attrs:{x1:"12",y1:"18",x2:"12",y2:"22"}}),t("line",{attrs:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}}),t("line",{attrs:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}}),t("line",{attrs:{x1:"2",y1:"12",x2:"6",y2:"12"}}),t("line",{attrs:{x1:"18",y1:"12",x2:"22",y2:"12"}}),t("line",{attrs:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}}),t("line",{attrs:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}})])}},b={name:"LogOutIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-log-out"},e.data]),[t("path",{attrs:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}}),t("polyline",{attrs:{points:"16 17 21 12 16 7"}}),t("line",{attrs:{x1:"21",y1:"12",x2:"9",y2:"12"}})])}},w={name:"MessageSquareIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-message-square"},e.data]),[t("path",{attrs:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}})])}},x={name:"PlusIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-plus"},e.data]),[t("line",{attrs:{x1:"12",y1:"5",x2:"12",y2:"19"}}),t("line",{attrs:{x1:"5",y1:"12",x2:"19",y2:"12"}})])}},y={name:"SendIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-send"},e.data]),[t("line",{attrs:{x1:"22",y1:"2",x2:"11",y2:"13"}}),t("polygon",{attrs:{points:"22 2 15 22 11 13 2 9 22 2"}})])}},O={name:"UserPlusIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-user-plus"},e.data]),[t("path",{attrs:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}}),t("circle",{attrs:{cx:"8.5",cy:"7",r:"4"}}),t("line",{attrs:{x1:"20",y1:"8",x2:"20",y2:"14"}}),t("line",{attrs:{x1:"23",y1:"11",x2:"17",y2:"11"}})])}},C={name:"UserXIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-user-x"},e.data]),[t("path",{attrs:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}}),t("circle",{attrs:{cx:"8.5",cy:"7",r:"4"}}),t("line",{attrs:{x1:"18",y1:"8",x2:"23",y2:"13"}}),t("line",{attrs:{x1:"23",y1:"8",x2:"18",y2:"13"}})])}},j={name:"UsersIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-users"},e.data]),[t("path",{attrs:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}}),t("circle",{attrs:{cx:"9",cy:"7",r:"4"}}),t("path",{attrs:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}}),t("path",{attrs:{d:"M16 3.13a4 4 0 0 1 0 7.75"}})])}},P={name:"XIcon",props:{size:{type:String,default:"24",validator:function(t){return!isNaN(t)||t.length>=2&&!isNaN(t.slice(0,t.length-1))&&"x"===t.slice(-1)}}},functional:!0,render:function(t,e){var r="x"===e.props.size.slice(-1)?e.props.size.slice(0,e.props.size.length-1)+"em":parseInt(e.props.size)+"px",s=e.data.attrs||{};return s.width=s.width||r,s.height=s.height||r,e.data.attrs=s,t("svg",h()([{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},class:"feather feather-x"},e.data]),[t("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),t("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])}};const k={name:"Notification",props:["notification"],components:{XIcon:P,CheckIcon:m},methods:{acceptFriendship:function(){this.$store.dispatch("updateFriendshipStatus",{friendshipId:this.notification.data.attributes.payload.friendship.data.id,status:"accept"})},cancelFriendship:function(){this.$store.dispatch("updateFriendshipStatus",{friendshipId:this.notification.data.attributes.payload.friendship.data.id,status:"reject"})}}};function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const I={name:"NotificationList",components:{Notification:(0,l.Z)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("div",{staticClass:"font-bold text-base"},[t._v("\n            "+t._s(t.notification.data.attributes.title)+"\n        ")]),t._v(" "),r("div",[t._v("\n            "+t._s(t.notification.data.attributes.description)+"\n            "+t._s(t.notification.data.attributes.payload.friendship.data.attributes.friend.data.attributes.name)+"\n        ")])]),t._v(" "),"pending"===t.notification.data.attributes.payload.friendship.data.attributes.status?r("div",{staticClass:"grid grid-cols-2 mt-2"},[r("div",{staticClass:"flex justify-center p-2"},[r("CheckIcon",{staticClass:"cursor-pointer hover:stroke-theme-second",attrs:{size:"1.2x"},on:{click:t.acceptFriendship}})],1),t._v(" "),r("div",{staticClass:"flex justify-center p-2"},[r("XIcon",{staticClass:"cursor-pointer hover:stroke-theme-second",attrs:{size:"1.2x"},on:{click:t.cancelFriendship}})],1)]):t._e()])}),[],!1,null,"5633177e",null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["notifications"]))};const N=(0,l.Z)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"absolute bg-white p-3"},t._l(t.notifications.unreadNotifications,(function(t){return r("Notification",{key:t.data.id,attrs:{notification:t}})})),1)}),[],!1,null,"063feb1b",null).exports;function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function D(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const E={name:"MessageInput",props:["messageType","usersId"],components:{SendIcon:y},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["currentChat"])),data:function(){return{message:""}},methods:{send:function(){"new-chat"!==this.messageType?this.newMessage():this.newChat()},newMessage:function(){var t=this;axios.post("api/chat/new-message",{chat_id:this.currentChat.data.id,message:this.message}).then((function(e){t.$store.commit("PUSH_NEW_MESSAGE",e.data),t.message="",t.$store.commit("PUSH_CHAT_TO_TOP",t.currentChat.data.id)}))},newChat:function(){this.$store.dispatch("createNewChat",{message:this.message,usersId:this.usersId}),s.U.$emit("popup:close")}},mounted:function(){var t=this;s.U.$on("message-input:clear",(function(){t.message=""}))},beforeDestroy:function(){s.U.$off("new-chat:create")}};const $=(0,l.Z)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" min-h-[65px] flex justify-center flex items-center py-2 "},[r("div",{staticClass:"pl-4 pr-2 bg-light border-[1px] rounded-lg border-theme w-3/4 h-[35px] flex flex-row items-center"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:" w-full h-full input bg-light text-light-text ",attrs:{placeholder:"Type your message here..."},domProps:{value:t.message},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send.apply(null,arguments)},input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),r("SendIcon",{staticClass:"ml-2 cursor-pointer hover:stroke-theme",on:{click:t.send}})],1)])}),[],!1,null,"52216668",null).exports;const M={name:"CustomUserAvatar",props:["size"]};function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const B={name:"UserAvatar",props:["members","avatar","theme"],components:{CustomUserAvatar:(0,l.Z)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex justify-center items-center"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:t.size+"px",height:t.size+"px",viewBox:"0 0 256 256","xml:space":"preserve"}},[r("g",[r("g",[r("path",{staticStyle:{fill:"#010002"},attrs:{d:"M9.954,241.305h228.441c3.051,0,5.896-1.246,7.805-3.416c1.659-1.882,2.393-4.27,2.078-6.723\n                    c-5.357-41.734-31.019-76.511-66.15-95.053c-14.849,14.849-35.348,24.046-57.953,24.046s-43.105-9.197-57.953-24.046\n                    C31.09,154.65,5.423,189.432,0.071,231.166c-0.315,2.453,0.424,4.846,2.078,6.723C4.058,240.059,6.903,241.305,9.954,241.305z"}}),t._v(" "),r("path",{staticStyle:{fill:"#010002"},attrs:{d:"M72.699,127.09c1.333,1.398,2.725,2.73,4.166,4.019c12.586,11.259,29.137,18.166,47.309,18.166\n                    s34.723-6.913,47.309-18.166c1.441-1.289,2.834-2.622,4.166-4.019c1.327-1.398,2.622-2.828,3.84-4.329\n                    c9.861-12.211,15.8-27.717,15.8-44.6c0-39.216-31.906-71.116-71.116-71.116S53.059,38.95,53.059,78.16\n                    c0,16.883,5.939,32.39,15.8,44.6C70.072,124.262,71.366,125.687,72.699,127.09z"}})])])])])}),[],!1,null,"66af89b4",null).exports,PlusIcon:x},data:function(){return{showPreview:!1}},computed:Z(Z({},(0,d.Se)(["user"])),{},{showedMembers:function(){var t=this;return this.members.filter((function(e){return e.data.id!==t.user.data.id})).slice(0,2)}}),methods:{toggleShowPreview:function(){this.showPreview=!this.showPreview}}};var L=r(5964),H={insert:"head",singleton:!1};i()(L.Z,H);L.Z.locals;const T=(0,l.Z)(B,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mr-4"},[t.members?r("div",{staticClass:"flex flex-row relative w-[70px]",class:{"justify-center":2===t.members.length}},[t._l(t.showedMembers,(function(e){return r("div",{key:e.id,staticClass:"members"},[r("div",{staticClass:"w-10 h-10 bg-theme border-2 rounded-full",class:"border-"+t.theme},[e.data.attributes.avatar?r("img",{staticClass:"h-full w-full rounded-full",attrs:{src:e.data.attributes.avatar,alt:"image"}}):r("CustomUserAvatar",{attrs:{size:"30"}})],1)])})),t._v(" "),t.members.length>2?r("div",{staticClass:"flex justify-center items-center mx-2 text-light-second font-bold cursor-pointer",class:"hover:text-"+t.theme,on:{click:t.toggleShowPreview}},[r("PlusIcon",{attrs:{size:"1x"}}),t._v(" "),r("span",{staticClass:"ml-[-3px]"},[t._v("\n                "+t._s(t.members.length-2)+"\n            ")])],1):t._e(),t._v(" "),t.showPreview?r("div",{staticClass:"absolute w-[300px] h-auto flex flex-row flex-wrap z-30 border-0 rounded-lg shadow-xl bg-light-second top-[50px] left-[70px]"},t._l(t.members,(function(t){return r("div",{key:t.id,staticClass:"h-auto w-auto m-2 cursor-pointer flex justify-center items-center"},[r("div",{staticClass:"w-10 h-10 flex items-center",attrs:{title:t.data.attributes.name}},[t.data.attributes.avatar?r("img",{staticClass:"w-full h-full rounded-full",attrs:{src:t.data.attributes.avatar}}):r("CustomUserAvatar",{attrs:{size:"30"}})],1)])})),0):t._e(),t._v(" "),t.showPreview?r("div",{staticClass:"fixed top-0 left-0 right-0 bottom-0 z-9 cursor-pointer",on:{click:t.toggleShowPreview}}):t._e()],2):t._e(),t._v(" "),!t.members&&t.avatar?r("div",{staticClass:"w-10 h-10 bg-theme rounded-full",class:"border-"+t.theme},[r("img",{staticClass:"h-full w-full border-0 rounded-full",attrs:{src:t.avatar,alt:"image"}})]):t._e(),t._v(" "),t.members||t.avatar?t._e():r("div",{staticClass:"w-10 h-10 bg-theme border-2 rounded-full",class:"border-"+t.theme},[r("CustomUserAvatar",{attrs:{size:"30"}})],1)])}),[],!1,null,"81715edc",null).exports;function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const W={name:"MessageHeader",computed:X(X({},(0,d.Se)(["currentChat","user"])),{},{avatar:function(){return this.currentChat.data.relationships.members[0].data.attributes.avatar}}),components:{UserAvatar:T}};const G=(0,l.Z)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"min-h-[50px] bg-theme flex px-4"},[r("div",{staticClass:"flex flex-row justify-start items-center"},[r("UserAvatar",{attrs:{members:t.currentChat.data.relationships.members,theme:"theme-second"}}),t._v(" "),t._l(t.currentChat.data.relationships.members,(function(e){return r("div",{key:e.data.id},[e.data.id!=t.user.data.id?r("div",{staticClass:"mr-1"},[t._v("\n                "+t._s(e.data.attributes.name)+",\n            ")]):t._e()])}))],2)])}),[],!1,null,"51464d43",null).exports;function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const K=Y({name:"Message",props:["message"],components:{UserAvatar:T},computed:J(J({},(0,d.Se)(["user"])),{},{isUserMessage:function(){return this.message.relationships.owner.data.id===this.user.data.id}})},"components",{UserAvatar:T});var Q=r(6209),tt={insert:"head",singleton:!1};i()(Q.Z,tt);Q.Z.locals;function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){st(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function st(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const nt={name:"MessagesList",components:{Message:(0,l.Z)(K,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade",appear:""}},[r("div",{staticClass:"m-3 flex flex-row items-center",class:{"justify-end":t.isUserMessage}},[t.isUserMessage?t._e():r("div",{staticClass:"w-10 h-10 bg-theme border rounded-full mr-2"},[r("UserAvatar",{attrs:{avatar:t.message.relationships.owner.data.attributes.avatar,theme:"theme"}})],1),t._v(" "),r("div",{staticClass:"border-0 rounded-lg p-3 drop-shadow-lg shadow-xl max-w-[350px] h-auto break-words",class:[t.isUserMessage?"bg-theme-second ml-[80px]":"mr-[20px]"]},[r("h2",[t._v(" "+t._s(t.message.attributes.message))])])])])}),[],!1,null,"ad167a58",null).exports,MessageInput:$,MessageHeader:G},computed:rt(rt({},(0,d.Se)(["currentChat"])),{},{messages:function(){return this.currentChat.data.relationships.messages},showMessages:function(){return window.innerWidth>=768}}),data:function(){return{chat:""}}};const at=(0,l.Z)(nt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showMessages?r("div",{staticClass:"max-h-[100vh]"},[void 0===t.currentChat?r("div",{staticClass:"w-full h-full"},[t._m(0)]):t._e(),t._v(" "),t.currentChat?r("div",{staticClass:"w-full h-full flex flex-col"},[r("MessageHeader"),t._v(" "),r("div",{staticClass:"flex-auto overflow-auto"},[r("div",{staticClass:"max-h-full flex flex-col-reverse overflow-auto h-full px-10"},[r("div",{staticClass:" flex flex-col"},t._l(t.messages,(function(t){return r("div",{key:t.data.id,staticClass:"mt-auto"},[r("Message",{attrs:{message:t.data}})],1)})),0)])]),t._v(" "),r("MessageInput")],1):t._e()]):t._e()}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-full h-full p-2 flex justify-center items-center"},[r("div",{staticClass:"w-[120px] h-[50px] bg-light-second flex justify-center items-center border-0 rounded-lg text-light-second font-bold"},[t._v("\n                Messages\n            ")])])}],!1,null,"b0f8a5ca",null).exports;const it={name:"UserStatusDot",props:["friendship"],computed:{status:function(){return this.friendship.data.attributes.friend.data.attributes.status},accepted:function(){return"accepted"===this.friendship.data.attributes.status}}};function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach((function(e){lt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ut={name:"Friend",props:["friendship"],components:{XIcon:P,CheckIcon:m,UserAvatar:T,UserStatusDot:(0,l.Z)(it,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"w-[7px] h-[7px] border-0 rounded-full animate-pulse",class:["online"===t.status?"bg-green-600":"bg-red-600",t.accepted?"":"bg-light-fg"]})}),[],!1,null,"7fe8be3f",null).exports},computed:ct(ct({},(0,d.Se)(["user"])),{},{showAction:function(){return"pending"===this.friendship.data.attributes.status&&this.friendship.data.attributes.author!==this.user.data.id},showPendingText:function(){return"pending"===this.friendship.data.attributes.status&&this.friendship.data.attributes.author===this.user.data.id}}),methods:{acceptFriendship:function(){this.$store.dispatch("updateFriendshipStatus",{friendshipId:this.friendship.data.id,status:"accept"})},cancelFriendship:function(){this.$store.dispatch("updateFriendshipStatus",{friendshipId:this.friendship.data.id,status:"reject"})}}};const dt=(0,l.Z)(ut,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"flex flex-col cursor-default bg-light hover:bg-theme p-2 border-0 rounded-lg"},[r("div",{staticClass:"flex justify-between mb-1"},[r("div",{staticClass:"flex flex-row items-center"},[r("UserAvatar",{attrs:{avatar:t.friendship.data.attributes.friend.data.attributes.avatar}}),t._v(" "),r("div",{staticClass:"font-bold"},[t._v("\n                    "+t._s(t.friendship.data.attributes.friend.data.attributes.name)+"\n                ")])],1),t._v(" "),r("div",{staticClass:"justify-self-end"},[r("UserStatusDot",{attrs:{friendship:t.friendship}})],1)]),t._v(" "),t.showAction?r("div",{staticClass:"flex"},[r("div",{staticClass:"w-1/2 flex justify-center"},[r("CheckIcon",{staticClass:"cursor-pointer hover:stroke-theme-second",attrs:{size:"1.2x"},on:{click:t.acceptFriendship}})],1),t._v(" "),r("div",{staticClass:"w-1/2 flex justify-center"},[r("XIcon",{staticClass:"cursor-pointer hover:stroke-theme-second",attrs:{size:"1.2x"},on:{click:t.cancelFriendship}})],1)]):t._e(),t._v(" "),t.showPendingText?r("div",{staticClass:"flex justify-center"},[r("span",{staticClass:"text-[13px]"},[t._v("\n                Waiting to accept ...\n            ")])]):t._e()])])}),[],!1,null,"c3a871b2",null).exports;function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ft={name:"FriendsList",computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(r),!0).forEach((function(e){ht(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["friendships"])),components:{Friend:dt,ArrowDownIcon:f},data:function(){return{acceptedShow:void 0,rejectedShow:void 0,pendingShow:void 0}},methods:{toggleShow:function(t){this[t]=!this[t],localStorage.setItem(t,this[t])}},created:function(){this.acceptedShow=JSON.parse(localStorage.getItem("acceptedShow")),this.pendingShow=JSON.parse(localStorage.getItem("pendingShow"))}};const vt=(0,l.Z)(ft,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"max-h-[100vh] bg-light-second"},[r("div",{staticClass:"min-h-[50px]  flex items-center pl-2"},[t._v("\n        Friend List\n    ")]),t._v(" "),r("div",[r("div",{staticClass:" h-[30px] cursor-pointer flex justify-center items-center",on:{click:function(e){return t.toggleShow("acceptedShow")}}},[t._v("\n            Accepted\n            "),r("ArrowDownIcon",{staticClass:"ml-2",class:{"rotate-180":t.acceptedShow},attrs:{size:"1x"}})],1),t._v(" "),t.acceptedShow?r("div",{},t._l(t.friendships.accepted,(function(t){return r("div",{key:t.data.id,staticClass:"p-2"},[r("Friend",{attrs:{friendship:t}})],1)})),0):t._e()]),t._v(" "),r("div",[r("div",{staticClass:" h-[30px] cursor-pointer flex justify-center items-center",on:{click:function(e){return t.toggleShow("pendingShow")}}},[t._v("\n            Pending\n            "),r("ArrowDownIcon",{staticClass:"ml-2",class:{"rotate-180":t.pendingShow},attrs:{size:"1x"}})],1),t._v(" "),t.pendingShow?r("div",{},t._l(t.friendships.pending,(function(t){return r("div",{key:t.data.id,staticClass:"p-2"},[r("Friend",{attrs:{friendship:t}})],1)})),0):t._e()])])}),[],!1,null,"2575e650",null).exports;const mt={name:"PopupWrapper",props:["name"],data:function(){return{isVisible:!1}},methods:{closePopup:function(){s.U.$emit("popup:close")}},mounted:function(){var t=this;s.U.$on("popup:open",(function(e){e.name===t.name&&(t.isVisible=!0)})),s.U.$on("popup:close",(function(){t.isVisible=!1}))}};const gt=(0,l.Z)(mt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isVisible?r("div",{staticClass:"bg-black absolute h-full w-full bg-opacity-50 flex justify-center items-center",on:{click:function(e){return e.target!==e.currentTarget?null:t.closePopup.apply(null,arguments)}}},[r("div",{staticClass:"w-[500px]  bg-white border-0 rounded-xl "},[t._t("default")],2)]):t._e()}),[],!1,null,"1c387a61",null).exports;const bt={name:"PopupHeader",props:["title"]};const wt=(0,l.Z)(bt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"h-[40px] border-b-2 flex justify-center items-center"},[r("h1",{staticClass:"text-xl font-bold"},[t._v(" "+t._s(this.title)+" ")])])}),[],!1,null,"605d855c",null).exports;const xt={name:"PopupContent"};const yt=(0,l.Z)(xt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"p-3"},[t._t("default")],2)}),[],!1,null,"55ce96a0",null).exports;const Ot={};const Ct=(0,l.Z)(Ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"absolute inset-2/4 "},[r("svg",{staticClass:"animate-spin -ml-1 mr-3 h-12 w-12 text-theme",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[r("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t._v(" "),r("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})])])}),[],!1,null,"057b46f7",null).exports;function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function jt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Pt={name:"SearchBar",components:{Spinner:Ct,PlusIcon:x,UserXIcon:C,UserAvatar:T,UserPlusIcon:O,MessageSquareIcon:w},props:["returnUser","filterUsers"],computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach((function(e){jt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["chats","searchedUsers","friendships"])),data:function(){return{loaded:!1,dropDown:!1,query:""}},methods:{showPlusIcon:function(t){return this.filterUsers.find((function(e){return e.data.id===t.data.id}))},showAddFriendIcon:function(t){return this.friendships.pending.concat(this.friendships.accepted).find((function(e){return e.data.attributes.friend.data.id===t.data.id}))},closeDropdown:function(){this.dropDown=!1,this.query=""},searchUser:function(){var t=this;this.$store.dispatch("searchUsers",this.query).then((function(){t.dropDown=!0}))},chat:function(t){var e=this;this.closeDropdown();var r=!0;this.chats&&this.chats.forEach((function(s){if(s.data.relationships.members.filter((function(e){return e.data.id===t.data.id})).length>0&&2==s.data.relationships.members.length)return e.$store.commit("SET_CURRENT_CHAT",s),void(r=!1)})),r&&(s.U.$emit("popup:open",{name:"new-chat",payload:{user:t}}),this.dropDown=!1)},returnedUser:function(t){this.$emit("returnedUser",t)},addFriend:function(t){this.$store.dispatch("addFriend",t),this.closeDropdown()},cancelFriendship:function(t){var e=this.$findFriendship(t.data.id);this.$store.dispatch("updateFriendshipStatus",{friendshipId:e.data.id,status:"reject"}),this.closeDropdown()}}};const kt=(0,l.Z)(Pt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-full flex justify-center items-center"},[r("div",{staticClass:"w-full flex"},[r("div",{staticClass:"w-full bg-white border-2 border-light-second rounded-lg relative focus-within:border-theme"},[r("div",{staticClass:"p-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"w-full",attrs:{placeholder:"Search Users"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.searchUser]}})]),t._v(" "),t.dropDown?r("div",{staticClass:"bg-white shadow-xl max-h-[300px] overflow-auto absolute w-full h-atuo border-0 rounded-lg z-20 top-[50px]",on:{click:function(t){t.stopPropagation()}}},[r("div",{staticClass:"w-full h-full"},t._l(t.searchedUsers,(function(e){return r("div",{key:e.data.id,staticClass:"cursor-pointer"},[r("div",{staticClass:"flex justify-between items-center p-2"},[r("div",{staticClass:"w-full h-12 flex items-center"},[r("UserAvatar",{attrs:{avatar:e.data.attributes.avatar,theme:"theme"}}),t._v(" "),r("h1",{staticClass:"hover:text-theme hover:font-bold"},[t._v(" "+t._s(e.data.attributes.name)+" ")])],1),t._v(" "),!t.returnUser&&t.showAddFriendIcon(e)?r("UserXIcon",{staticClass:"cursor-pointer stroke-2 mr-2 hover:stroke-theme-second",attrs:{size:"1.3x"},on:{click:function(r){return t.cancelFriendship(e)}}}):t._e(),t._v(" "),t.returnUser||t.showAddFriendIcon(e)?t._e():r("UserPlusIcon",{staticClass:"cursor-pointer stroke-2 mr-2 hover:stroke-theme-second",attrs:{size:"1.3x"},on:{click:function(r){return t.addFriend(e)}}}),t._v(" "),t.returnUser?t._e():r("MessageSquareIcon",{staticClass:"cursor-pointer stroke-2 hover:stroke-theme-second",attrs:{size:"1.3x"},on:{click:function(r){return t.chat(e)}}}),t._v(" "),t.returnUser&&!t.showPlusIcon(e)?r("PlusIcon",{staticClass:"cursor-pointer stroke-2 hover:stroke-theme-second",on:{click:function(r){return t.returnedUser(e)}}}):t._e()],1)])})),0)]):t._e()]),t._v(" "),t.dropDown?r("div",{staticClass:"fixed top-0 left-0 right-0 bottom-0 z-9 cursor-pointer",on:{click:t.closeDropdown}}):t._e()])])}),[],!1,null,"58d05d87",null).exports;const St={name:"PopupAction"};const zt=(0,l.Z)(St,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"flex justify-center p-3"},[t._t("default")],2)}),[],!1,null,"faeb8c3a",null).exports;const It={name:"ButtonCustom",props:["buttonStyle","loading"],components:{Spinner:Ct,LoaderIcon:g}};var Nt=r(3616),Ut={insert:"head",singleton:!1};i()(Nt.Z,Ut);Nt.Z.locals;const Dt=(0,l.Z)(It,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-[130px] h-[50px] cursor-pointer rounded-xl flex justify-center items-center font-bold relative",class:t.buttonStyle},[t.loading?t._e():t._t("default"),t._v(" "),t.loading?r("LoaderIcon",{staticClass:"animate-spin"}):t._e()],2)}),[],!1,null,"f32abc3a",null).exports,Et={name:"NewGroupChatPopup",components:{PopupWrapper:gt,PopupHeader:wt,PopupContent:yt,SearchBar:kt,UserAvatar:T,XIcon:P,MessageInput:$,PopupAction:zt,ButtonCustom:Dt},data:function(){return{users:[]}},computed:{getUsersIds:function(){var t=[];return this.users.forEach((function(e){t.push(e.data.id)})),t}},methods:{addUser:function(t){this.users.push(t)},removeUser:function(t){this.users=this.users.filter((function(e){return e.data.id!==t.data.id}))},closePopup:function(){s.U.$emit("popup:close")}},mounted:function(){var t=this;s.U.$on("popup:close",(function(){t.users=[]}))}};const $t=(0,l.Z)(Et,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("PopupWrapper",{attrs:{name:"new-group-chat"}},[r("PopupHeader",{attrs:{title:"New Group Chat"}}),t._v(" "),r("PopupContent",[r("SearchBar",{attrs:{"return-user":!0,"filter-users":t.users},on:{returnedUser:function(e){return t.addUser(e)}}}),t._v(" "),r("div",{staticClass:"min-h-[70px] h-[160px] overflow-auto border-2 my-3 rounded-lg"},[t.users.length>0?r("div",{staticClass:"flex flex-wrap"},t._l(t.users,(function(e){return r("div",{key:e.data.id,staticClass:"flex h-[50px] justify-center items-center m-2 p-2 bg-light-second border-0 rounded-lg"},[r("UserAvatar",{attrs:{avatar:e.data.attributes.avatar}}),t._v(" "),r("div",[t._v(t._s(e.data.attributes.name))]),t._v(" "),r("XIcon",{staticClass:"ml-2 cursor-pointer hover:stroke-theme-second",attrs:{size:"1x"},on:{click:function(r){return t.removeUser(e)}}})],1)})),0):t._e(),t._v(" "),0===t.users.length?r("div",{staticClass:"h-full m-auto flex justify-center items-center text-second-text font-bold"},[r("p",[t._v("Selected Users")])]):t._e()]),t._v(" "),r("div",{staticClass:"my-2"},[r("MessageInput",{attrs:{"message-type":"new-chat","users-id":t.getUsersIds}})],1)],1),t._v(" "),r("PopupAction",[r("ButtonCustom",{attrs:{"button-style":"cancel"},nativeOn:{click:function(e){return t.closePopup.apply(null,arguments)}}},[t._v("\n            Cancel\n        ")])],1)],1)}),[],!1,null,"112fc7ea",null).exports;function Mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(r),!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Ft={name:"Chat",props:["chat"],components:{UserAvatar:T},computed:At(At({},(0,d.Se)(["currentChat","user"])),{},{dotActive:function(){return this.chat.data.attributes.unreadedMessagesCount>0&&this.currentChat.data.id!==this.chat.data.id},userName:function(){return this.chat.data.relationships.messages[this.chat.data.relationships.messages.length-1].data.relationships.owner.data.attributes.name}}),methods:{message:function(t){return _.truncate(t,25)}}};var Bt=r(4853),Lt={insert:"head",singleton:!1};i()(Bt.Z,Lt);Bt.Z.locals;function Ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Tt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const qt={name:"ChatsList",components:{Spinner:Ct,Chat:(0,l.Z)(Ft,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade",appear:""}},[r("div",{staticClass:"flex my-4 cursor-pointer p-2 border-0 rounded-lg relative ",class:{"bg-theme-second drop-shadow-lg shadow-md shadow-theme-second":t.currentChat.data.id===t.chat.data.id,"font-bold":t.dotActive}},[t.dotActive?r("div",{staticClass:"notification-dot w-5 h-5 border-0 z-10 rounded-full bg-theme-second animate-pulse absolute flex justify-center items-center"},[r("div",[t._v(t._s(this.chat.data.attributes.unreadedMessagesCount))])]):t._e(),t._v(" "),r("div",{staticClass:"flex flex-row items-center overflow-hidden max-w-full"},[r("UserAvatar",{attrs:{members:t.chat.data.relationships.members,theme:"theme"}}),t._v(" "),r("div",{staticClass:"px-2"},[r("div",{staticClass:"flex flex-row"},t._l(t.chat.data.relationships.members,(function(e){return r("div",{key:e.data.id},[e.data.id!==t.user.data.id?r("div",{staticClass:"whitespace-nowrap mr-1 font-bold text-ellipsis overflow-hidden"},[t._v("\n                            "+t._s(t.userName)+"\n                        ")]):t._e()])})),0),t._v(" "),t.chat.data.relationships.messages.length>0?r("div",{staticClass:"cursor-pointer text-light-second"},[t._v("\n                    "+t._s(t.message(t.chat.data.relationships.messages[t.chat.data.relationships.messages.length-1].data.attributes.message))+"\n                ")]):t._e()])],1)])])}),[],!1,null,"628cff14",null).exports,SearchBar:kt,UserAvatar:T,UsersIcon:j,BellIcon:v},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(r),!0).forEach((function(e){Tt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["chats","user"])),methods:{test:function(){s.U.$emit("light-notification:open",{title:"Friendship was accepted.",description:"Milos Holba was accepted your friendship request."})},getChat:function(t){this.$store.dispatch("getChat",t),s.U.$emit("message-input:clear")},uploadAvatar:function(t){this.$store.dispatch("uploadAvatar",t)},groupChat:function(){s.U.$emit("popup:open",{name:"new-group-chat"})}}};const Xt=(0,l.Z)(qt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"max-h-[100vh] flex flex-col bg-light-second"},[t.user?r("div",{staticClass:" min-h-[50px] flex items-center ml-2"},[r("UserAvatar",{attrs:{avatar:t.user.data.attributes.avatar}}),t._v(" "),r("div",[t._v("\n             "+t._s(t.user.data.attributes.name)+"\n         ")]),t._v(" "),r("div",{staticClass:"ml-2"},[r("BellIcon",{attrs:{size:"1.2x"}})],1)],1):t._e(),t._v(" "),r("div",{staticClass:"bg-light-second my-2"},[r("div",{staticClass:"flex flex-row w-full p-2"},[r("SearchBar"),t._v(" "),r("div",{staticClass:"flex justify-center items-center mx-3"},[r("UsersIcon",{staticClass:" cursor-pointer hover:stroke-theme-second",attrs:{title:"test"},on:{click:t.groupChat}})],1)],1)]),t._v(" "),t.chats?r("div",{staticClass:"h-full overflow-auto"},[r("div",{staticClass:"p-2"},t._l(t.chats,(function(e){return r("div",{key:e.data.id,on:{click:function(r){return t.getChat(e.data.id)}}},[r("Chat",{attrs:{chat:e}})],1)})),0)]):t._e(),t._v(" "),t.chats?t._e():r("div",{staticClass:"w-full h-full p-2 flex justify-center items-center"},[r("div",{staticClass:"w-[120px] h-[50px] bg-light flex justify-center items-center border-0 rounded-lg text-light-second font-bold"},[t._v("\n            Empty chats\n        ")])])])}),[],!1,null,"6680217b",null).exports;const Vt={name:"LogoutButton",components:{LogOutIcon:b},methods:{logOut:function(){this.$store.dispatch("logOut")}}};const Wt={name:"NewChatPopup",components:{PopupWrapper:gt,PopupHeader:wt,PopupContent:yt,MessageInput:$,PopupAction:zt,ButtonCustom:Dt},data:function(){return{user:void 0,loading:!1}},methods:{closePopup:function(){s.U.$emit("popup:close")}},mounted:function(){var t=this;s.U.$on("popup:open",(function(e){"new-chat"===e.name&&(t.user=e.payload.user)}))}};function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Jt={name:"Dashboard",components:{LightNotification:u,NewGroupChatPopup:$t,NotificationList:N,MessagesList:at,LogoutButton:(0,l.Z)(Vt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"z-100 absolute bottom-2 left-5 cursor-pointer h-10 w-10 flex justify-center items-center border-0 rounded-full",on:{click:t.logOut}},[r("LogOutIcon",{staticClass:"hover:stroke-theme-second"})],1)}),[],!1,null,"0f644a97",null).exports,NewChatPopup:(0,l.Z)(Wt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("PopupWrapper",{attrs:{name:"new-chat"}},[r("PopupHeader",{attrs:{title:"New Chat Message"}}),t._v(" "),r("PopupContent",[t.user?r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"h-[70px] flex items-center"},[r("div",{staticClass:"w-10 h-10 bg-theme border rounded-full mr-3"}),t._v(" "),r("h1",[t._v(" "+t._s(t.user.data.attributes.name))])]),t._v(" "),r("MessageInput",{attrs:{"message-type":"new-chat","users-id":[t.user.data.id]}})],1):t._e()]),t._v(" "),r("PopupAction",[r("ButtonCustom",{attrs:{"button-style":"cancel"},nativeOn:{click:function(e){return t.closePopup.apply(null,arguments)}}},[t._v("\n            Cancel\n        ")])],1)],1)}),[],!1,null,"7bdfb136",null).exports,FriendsList:vt,ChatsList:Xt,Spinner:Ct},data:function(){return{showMessages:!0,showFriends:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,d.Se)(["loaded","config","currentChat"])),created:function(){this.$store.dispatch("getUser")}};var Yt=r(8033),Kt={insert:"head",singleton:!1};i()(Yt.Z,Kt);Yt.Z.locals;const Qt=(0,l.Z)(Jt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"h-full"},[t.loaded?r("div",{staticClass:"h-full bg-light text-light-text"},[r("div",{staticClass:"dashboard h-full w-full absolute grid-cols-{1fr 2fr 1fr}"},[r("ChatsList"),t._v(" "),r("MessagesList",{directives:[{name:"show",rawName:"v-show",value:t.showMessages,expression:"showMessages"}]}),t._v(" "),r("FriendsList",{directives:[{name:"show",rawName:"v-show",value:t.showFriends,expression:"showFriends"}]})],1),t._v(" "),r("LightNotification"),t._v(" "),r("NewChatPopup"),t._v(" "),r("NewGroupChatPopup")],1):t._e(),t._v(" "),t.loaded?t._e():r("Spinner")],1)}),[],!1,null,"a7968b3c",null).exports}}]);